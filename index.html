<!DOCTYPE html>
<html lang='en'>
	<head>
		<meta charset='utf-8'>
		<meta http-equiv='X-UA-Compatible' content='IE=edge'>
		<meta name='viewport' content='width=device-width, initial-scale=1'>	
		<title>Easy-BTC.org Security for everyone</title>
		<script src='bower_components/jquery/dist/jquery.min.js'></script>
		<script src='bower_components/bootstrap/dist/js/bootstrap.min.js'></script>
		<!-- Bootstrap -->


		<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css" type="text/css" media="all" />
		<link href="bower_components/jquery-ui/themes/ui-lightness/jquery-ui.css" rel="stylesheet"/>
		<link rel="stylesheet" href="easybtc.css" type="text/css" media="all" />
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src='https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js'></script>
			<script src='https://oss.maxcdn.com/respond/1.4.2/respond.min.js'></script>
		<![endif]-->
	
	</head>
	<body>
		<div class='container hidden-print'>
			
			<!--<h4>Cold Storage for everyone</h4>
			<h6>Easy-BTC uses <a href=http://www.bitcoinjs.org/>BitcoinJS</a>, <a href='http://onename.io/'>Onename.io</a> and is compatible with <a href='https://keybase.io/warp'>Warp Wallet</a></h6>-->
			<ul class='nav nav-pills' role='tablist'>
				<li name='intro' style='background:blue'><a style='color:white' href='#intro'>Easy-BTC.org</a></li>
				<li name='vault'><a href='#vault'>Warp Vault</a></li>
				<li name='transaction' class='active'><a href='#transaction'>Warp Spend</a></li>
				<li name='tfavault'><a href='#tfavault'>2FA Vault</a></li>
				<li name='tfaspend'><a href='#tfaspend'>2FA Spend</a></li>
				<li name='receive'><a href='#receive'>Receive</a></li>
				<li name='multisig'><a href='#multisig'>Multisig (Advanced)</a></li>
				<li name='chain'><a href='#chain  '>Chain (Advanced)</a></li>
			</ul>
			<div id='contents' class='col-xs-12 panel panel-primary' style='background:#ddd;border-color=#044;border:2px black solid' ></div>
		</div>

		<script data-main='config.js' src='bower_components/requirejs/require.js'></script>

		<script type='text/template' id='multisigViewTemplate'>
			<div class='row form-group col-xs-12'>
				<button style='float:left; margin-right:10px' type='button' data-toggle='dropdown' class='btn dropdown-toggle'><span class='glyphicon glyphicon-qrcode'></span> Tools <span class='caret'></span></button>
				<button class='btn btn-warning' style='float:left; margin-right:10px' name='test'>Fake data</button>
				<button class='btn btn-primary' style='float:left; margin-right:10px;margin-left:10px' name='data-link'>Data</button>
				<button class='btn btn-danger' style='float:left' name='reset'>Reset</button>

				<ul class='dropdown-menu'>
					<li name='btn-import-redeemscript'><a href='#multisig'>Import Multisig Data</a></li>
					<li name='btn-export-multisig'><a href='#Multisig'>Export Multisig Data</a></li>
					<li class='divider'></li>
					<li name='btn-import-data'><a href='#Multisig'>Import Data</a></li>
					<li name='btn-show-tiny-url'><a href='#Multisig'>Tiny Url Tool</a></li>
					<!--<li name='btn-export-tx'><a href='#Multisig'>Export Transaction</a></li>-->
				</ul>
				<div name='tiny-url-tool' class='input-group' style='float:left;margin-right:20px;display:none'>
					<button class='btn btn-default disabled' name='load-data'>Load Data</button>
					<button class='btn btn-default' name='save-data'>Save Data</button>
					<label style='margin-left:10px'>tinyurl:&nbsp&nbsp</label>
					<input class='' style='width:100px' name='tinyurl'></input>
				</div>
				
				
			</div>
			<div id='qrcode-multisig-data'>
			</div>
			<div class='row form-group'>
				</br></br></br>
				<div name='multisig-builder'>
					<label class='col-xs-12' style='margin-left:0px;padding-right:30px'>Addresses :</label>
					<% _.each(pubkeys, function(pubkey, index) {%> 
						<div class='row col-xs-12' id='<%=index%>' name='pubkey-field' style='margin-left:30px;padding-right:30px'>
							<div class='row input-group col-xs-6' style='padding-right: 10px;'>
								<span class='input-group-addon' style='<%=(pubkey.pubkey && pubkey.pubkey!='unknown') ? 'background-color:green;color:white' : '' %>' name='pubkey-field-title' id='<%=index%>'>
									#<%=parseInt(index)+1%>
								</span>
								<input type='text' class='form-control form1' id='<%=index%>' name='entry-field'  placeholder='Enter Address, Onename, or Public Key' value='<%=pubkey.address%>'>
								</input>
								<span class='input-group-btn'>
									<button class='btn btn-default glyphicon glyphicon-camera form1 groupeA' type='button' name='btn-scan' id='<%=index%>'></button>
								</span>
								<span class='input-group-btn'>
									<button class='btn btn-default glyphicon glyphicon-trash form1' type='button' name='btn-delete-pubkey' id='<%=index%>'></button>
								</span>
								<div class='' style='width:9px;position:absolute;bottom:17px;font-size:24px;margin-top:1px;border-bottom:3px solid;<%=index > 0 ? 'border-right:3px solid;' : ''%>' >&nbsp;
									<%if (index == 1) {%>
									<div class='col-xs-1' style='position:absolute;bottom:16px;font-size:24px;margin-top:1px;border-bottom:3px solid;right:-30px' >
									</div>
									<div class='col-xs-1' style='position:absolute;bottom:16px;font-size:24px;margin-top:1px;border-bottom:3px solid;right:-130px' >
									</div>
									<div style='position:absolute;right:-420px;bottom:1px'>
										<legend style='font-size:15px;margin-bottom:0px'>Multisig Address</legend>
										<input style='min-width: 300px; color:blue' name='multisig-address' class='form-control' disabled placeholder='Multisig address'></input>
										<div style='position:absolute;right;bottom:-60px'>
										<legend style='font-size:15px;margin-bottom:0px'>Balance</legend>
										<input style='color: blue; min-width: 300px' name='multisig-balance' class='form-control' disabled placeholder='Balance'></input>
									</div>
									</div>
									<div style='position:absolute;right:-100px;bottom:1px'>
										<legend style='font-size:15px;margin-bottom:0px'>Signatures</legend>
										<select class='form-control form1' name='number-of-signatures' style='width:80px;'>
											<% _.each(_.without(_.pluck(pubkeys,'pubkey'),'','unknown'), function(pubkey, index) {%>
												<option value='<%=index + 1%>' <%=numberOfSignatures==index+1 ? 'selected' : ''%>><%=index+1%></option>
											<%})%>
										</select>
									</div>
									<%}%>
								</div>
								<%if (index == pubkeys.length -1) {%>
									<div class='col-xs-12' style='z-index:20;position:absolute;top:35px;left:0px'>
										<button type='button' class='btn btn-default form1' name='btn-add' style='left-padding:40px;float:right;margin-top:30px'><span class='glyphicon glyphicon-plus-sign glyphicon-align-center' style='color:green;horizontal-align:middle;font-size:20px;horizontal-align:middle;bottom:1px'>
										</span> ADD</button>
									</div>
								<%}%>
							</div>
							<div class='col-xs-6' name='alert-pubkey' id='<%=index%>'></div>
						</div>
					<%})%>
				</div>
				<div class='' id='qrcode-multisig-address' name='qrcode-multisig-address' style=''>
				</div>
				<div class='col-xs-12' style='margin-top:50px;margin-right:50px'>
					<button class='btn btn-default <%=unspents.length > 0 ? '' : 'disabled'%>' style='font-size:20px; float: right; margin-right:50px' name='btn-transaction'>
					<span name='chevron-tx-button' class='glyphicon glyphicon-triangle-left'></span>
						 Spend from this multisig
					</button>
				</div>
					<!--<label name='label-transaction' style='margin-left:30px'><%_.each(recipients,function(recipient, index) {if(recipient.address) {%></br><%=' ' + recipient.amount / 100000000%> BTC to <%=recipient.address%><%}})%>
					</label>-->
				</div>
				<div class='form-group' name='multiTransaction' style=''>
				</div>
				<div class=''>
				<h6>&nbsp</h6>
				</br>
				</br>
				Use at your own risks, if you find this application useful, you can buy us a coffee at 1LPUpS4nc2mo63GvgBxrUSJ6y3xumqzWSW
				</div>
			</div>
		</script>

		<script type='text/template' id='coinvoiceTemplate'>
			<form role='form' style='margin-right: 20px;'>
				<div class='form-group'>
					<div class='row input-group col-xs-11' style='margin:10px;margin-left:0px'>
						<span class='form-control-feedback input-group-addon' id='btcSymbol' style='top:0px;width:33px;position:relative;font-weight:bold;font-size:15px'>Address</span>
						<input type='text' class='form-control' style='padding:10px;height:45px;font-weight:bold;font-size:15px' name='btc address' id='address' placeholder='BTC address or Onename' value='<%= address %>' />
					</div>
					<div class='form-group'>
					<div class='row input-group col-xs-11' style='margin:10px;margin-left:0px'>
						<span class='form-control-feedback input-group-addon' id='currencyAddon' style='top:0px;position:relative;font-weight:bold;font-size:15px'><%=currency%></span>
						<input type='text' class='form-control' id='fiat' style=';padding:10px;height:45px;font-weight:bold;font-size:15px' placeholder='Currency amount'></input>
					</div>
				</div>
				<div>
				<div class='form-group'>
					<select id='currency' style='font-size:15px'>
						<% _.each(currencies, function(currencyi, index) {%> 
							<option <%=((currencyi.code || 'USD') == currency) ? 'selected=true' : ''%> value='<%=currencyi.code%>' style='font-size:15px'><%=currencyi.code%>   <%=currencyi.name%></option>
						<%})%>
					</select>
				</div>
				<div class='text-left' id='label-address'></div>
				<div class='' id='title' style='font-weight:bold'><%=title%></div>
				<%=title?'</br>':''%>
				<div class='col-xs-6' id='qrcode-address-image'></div>
				<h5 id='qrcode-address-image'></h5>
				<div class='text col-xs-12	'>
				<span class='' id='rateAddon' style='position:absolute;font-weight:bold;font-size:15px'></span>
				</div>
				<div id='reader' style='width:600px;height:250px'></div>
				<div class='text-left' id='link'></div>
			<h6>Use at your own risks, if you find this application useful, you can buy us a coffee at 1LPUpS4nc2mo63GvgBxrUSJ6y3xumqzWSW</h6>
			</form>
			</div>
		</script>

		<script type='text/template' id='vaultViewTemplate'>
			<form role='form col-xs-12' style='margin-right: 20px;'>
				<div id='vault-warning'></div>
				<div name='vault-tfa-text'></div>
				<div class='form-group'>
						<label for='passphrase'>Passphrase</label>
						<input type='text' style='font-weight:bold' class='form-control' name='passphrase' id='passphrase' placeholder='Type your passphrase here' />
					</div>
				<div class='row col-xs-12'>
				<label for='count_words'>Random words generator</label>
				<div>
					<select class='form-control col-xs-3' style='width:100px' name='count_words'>
						<option value='1'>1</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option selected value='4'>4</option>
						<option value='5'>5</option>
						<option value='6'>6</option>
						<option value='7'>7</option>
						<option value='8'>8</option>
					</select>
					<button type='button' class='col-xs-6 btn btn-primary btn-random' style='width:140px;margin-left:10px'>Random Words</button>
				</div>
				</div>
				<div class='form-group' style='margin-top:90px'>
					<label for='email'>Email (Optional)</label>
					<input type='text' class='form-control' name='email' placeholder='Enter your email/salt here' />
				</div>
				<div id='pleaseWait'></div>
				<div class='button-group'>
					<button type='button' class='btn btn-primary btn-generate' style='font-size:14px;white-space: normal ; margin-top:20px;display:<%=tfa && 'none'%>'>Generate vault</button>
					<button type='button' class='btn btn-primary btn-generate-computer' style='font-size:14px;white-space: normal ; margin-top:20px;display:<%=tfa || 'none'%>'>Computer</button>
					<button type='button' class="btn btn-warning btn-generate-mobile" style="font-size:14px;white-space: normal ; margin-top:20px;display:<%=tfa || 'none'%>">Mobile</button>
				</div>
				<div name='vault-tfa-content'></div>
				<div class='row text-center'>
					<div class='col-xs-12 col-ms-6 h3' id='text-address'></div>
					<div class='col-xs-12 col-ms-6' id='qrcode-address-image'></div>
					<div class='text-center' style='word-break: break-all' id='label-address'></div>
					<br>
					<div class='col-xs-12 col-ms-6 h3' id='text-privatekey'></div>
					<div class='col-xs-12 col-ms-6' id='qrcode-privkey-image'></div>
					<div class='text-center' style='word-break: break-all' id='label-privkey'></div>
					<br>
					<div class='col-xs-12 col-ms-6 h3' id='text-pubkey'></div>
					<div class='col-xs-12 col-ms-6' id='qrcode-pubkey-image'></div>
					<div class='text-center' style='word-break: break-all' id='label-pubkey'></div>
					<br>
					<br>
					<h5>This tool will give the exact same output as a <a href='https://keybase.io/warp'>warp wallet</a> and it is recommended to be used offline.</h5>
					<h5>Also think to register your bitcoin address at <a href='http://onename.com/'>onename.com</a> for easier use.</h5>
					<h5>The <a href='https://developer.mozilla.org/en-US/docs/Web/API/RandomSource.getRandomValues'>random</a> button chooses words from a ~10,000 words list</h5>
					<h6>Use at your own risks, if you find this application useful, you can buy us a coffee at 1LPUpS4nc2mo63GvgBxrUSJ6y3xumqzWSW</h6>
				</div>
			</form>
		</script>

		<script type='text/template' id='indexViewFromTemplate'>
			<div class='row col-sm-9 col-xs-12 form-group has-feedback input-prepend'>
				<label for='sendingAddr'><%=tfa ? 'Sending 2FA Vault' : 'Sending Addresse'%></label>

				<div class='row input-group hidden-xs' style='padding-left:15px'>
					<input type='text' id='sendingAddr' tabindex='1' class='form-control groupeA' name='sender' placeholder='<%=tfa ? "2FA Vault" : "BTC address Onename"%>' value='<%= from %>'></input>
					<span class='form-control-feedback <%= cryptoscrypt.validAddress(from) ? 'glyphicon glyphicon-ok' : from ? 'glyphicon glyphicon-remove' : ''%>' name='glyphicon' id='glyphicon' style='left:-5px'></span>
					<span class='input-group-btn'>
						<button class='btn btn-default glyphicon glyphicon-camera groupeA' type='button' name='btn-scan-from'></button>
					</span>
					<span class='input-group-addon hidden-xs' style='font-weight:bold'>Balance: <%= balance/100000000 %> BTC</span>
				</div>

				<div class='row input-group visible-xs' style='padding-left:15px'>
					<input type='text' id='sendingAddr' tabindex='1' class='form-control groupeA' name='sender' placeholder='BTC address / Onename' value='<%= from %>'>
					<span class='form-control-feedback <%= cryptoscrypt.validAddress(from) ? 'glyphicon glyphicon-ok' : from ? 'glyphicon glyphicon-remove' : ''%>' name='glyphicon' id='glyphicon' style='left:-5px'></span>
					</input>
					<label class='col-xs-12'>
						Balance: <%= balance/100000000 %> BTC
					</label>
				</div>

			</div>

			<div class='col-sm-1 hidden-xs' id='thumb' style='left:16px;top:25px'>
				<img id='thumb' class='thumb' width='40' src='<%= thumbFrom %>' style='display:<%= thumbFrom ||'none'%>'</img>
			</div>
		</script>


		<script type='text/template' id='indexViewToAddressTemplate'>

			<div class='fieldAddressTo' dataId='<%= index %>'>
				<div class='row col-xs-12 col-sm-6 form-group has-feedback input-prepend <%=this.successClass(recipient.address) %>'>
					<div class='row input-group'>
						<input type='text' tabindex=<%=index*2+2%> class='form-control' name='to' value='<%= recipient.address %>' placeholder='BTC address / Onename'>
							<span class='<%= cryptoscrypt.validAddress(recipient.address) ? 'glyphicon glyphicon-ok form-control-feedback' : recipient.address ? 'glyphicon glyphicon-remove form-control-feedback' : ''%>' style='left:-10px' name='glyphicon'>
							</span>
						</input>
						<span class='input-group-btn'>
							<button class='btn btn-default glyphicon glyphicon-camera groupeA' type='button' name='btn-scan'></button>
						</span>
						<span class='input-group-btn'>
							<span class='input-group-btn'>
								<button style='z-index:100' class='btn btn-default glyphicon glyphicon-trash groupeA' type='button' name='btn-remove'></button>
							</span>
						</span>
					</div>
				</div>

			</div>

		</script>

				
		<script type='text/template' id='indexViewToThumbTemplate'>
			<img name='thumbTo' class='' width='40' src='<%= recipient.thumb %>' style='display:<%=recipient.thumb || 'none'%>'></img>
		</script>

		<script type='text/template' id='indexViewTemplate'>

			<%
			function successClass(address) {
				if (cryptoscrypt.validAddress(address)) {
					return 'has-success';
				} else if (address) {
					return 'has-error';
				}
			}
			%>
			<div class = 'col-xs-12' name='content'>
			<form role='form col-xs-12' style='display:<%=tfa && "none"%>'>
				<div class='dropdown col-xs-2' name='tools button-group'>
					<button style='' type='button' data-toggle='dropdown' class='btn btn-success dropdown-toggle'>Tools <span class='caret'></span></button>
					<ul class='dropdown-menu'>
						<li name='btn-show-advanced'><a href='#'><%=advanced ? 'Hide' : 'Display'%> advanced options</a></li>
						<li class='divider'></li>
						<li name='btn-import'><a href='#'>Import QR code(s) for a transaction</a></li>
						<li name='btn-export'><a href='#'>Export QR code(s) for this transaction</a></li>
						<li class='divider'></li>
						<li name='guidance-tails'><a href='#'>Guidance for using Tails</a></li>
						<li name='guidance-dedicated'><a href='#'>Guidance for using a dedicated offline computer</a></li>
						<li name='guidance-off'><a href='#'>Turn guidance off</a></li>
						<li class='divider'></li>
						<li name='btn-show-tiny-url'><a href='#'>TinyURL export / import</a></li>
					</ul>
				</div>
				<div class='' name='btn-export' style='float:right'>
					<button type='button' class='btn btn-warning' name='btn-export' style=''>Export Data</button>
				</div>

				<div name='tiny-url-tool' class='input-group' style='float:right;margin-right:20px;display:none'>
					<button type='button' class='btn btn-default disabled' name='load-data'>Load Data</button>
					<button type='button' class='btn btn-default' name='save-data'>Save Data</button>
					<label style='margin-left:10px'>tinyurl:&nbsp&nbsp</label>
					<input class='' style='width:100px' name='tinyurl'></input>
				</div>

				<div class='col-xs-12 importQr' style='display: <%= showImportQR || 'none' %>'>
					<p>Hold a QR Code in front of your webcam.</p>
					<div class='qr-status'></div>
					<div class='qr-reader' style='width: 400px; height: 300px'></div>
				</div>
				</div>
				<div class='col-xs-12 section-to-print' id='section-to-print' name='section-to-print'>

					<h4 class='bg-info guidance <%= guidance != 'tails' && 'hidden' %>'>Using a computer with <a href='http://tails.boum.org/'>Tails</a></h4>
					<img class='<%= guidance != 'tails' && 'hidden' %>' src='TailsComputer.png' style='width:625px;height:277px'>
					<h4 class='bg-info guidance <%= guidance != 'dedicated' && 'hidden' %>'>Using a dedicated offline computer</h4>
					<img class='<%= guidance != 'dedicated' && 'hidden' %>' src='OfflineComputer.png' style='width:625px;height:277px'>
				</div>

				<div class='col-xs-12' name='transaction'>
				
					<legend class='legend' style="">Transaction</legend>
					<div id='iStatus'></div>
					

					<h5 class='bg-info guidance <%= guidance != 'tails' && 'hidden' %>'>Step 1 : Open <a href='http://tails.boum.org/'>Tails</a>, and open this page.
					</h5>

					<h5 class='bg-info guidance <%= guidance != 'dedicated' && 'hidden' %>'>Step 1 : Open this page on an online computer.
					</h5>

					<h5 class='bg-info guidance <%= guidance == false && 'hidden' %>'>Step 2 : Prepare your transaction, you can use <a href='http://onename.com/'>onename.com</a> names
					</h5>
					
					<div class='row col-xs-12 addressFrom' name='div-from' style=''>
						
						<div class='row col-sm-9 col-xs-12 form-group has-feedback input-prepend <%=successClass(from) %>'>
							<label for='sendingAddr'><%=tfa ? 'Sending 2FA Vault' : 'Sending Addresse'%></label>

							<div class='row input-group hidden-xs' style='padding-left:15px'>
								<input type='text' id='sendingAddr' tabindex='1' class='form-control groupeA' name='sender' placeholder='<%=tfa ? "2FA Vault" : "BTC address Onename"%>' value='<%= from %>'></input>
								<span class='form-control-feedback <%= cryptoscrypt.validAddress(from) ? 'glyphicon glyphicon-ok' : from ? 'glyphicon glyphicon-remove' : ''%>' name='glyphicon' id='glyphicon' style='left:-5px'></span>
								<span class='input-group-btn'>
									<button class='btn btn-default glyphicon glyphicon-camera groupeA' type='button' name='btn-scan-from'></button>
								</span>
								<span class='input-group-addon hidden-xs' style='font-weight:bold'>Balance: <%= balance/100000000 %> BTC</span>
							</div>

							<div class='row input-group visible-xs' style='padding-left:15px'>
								<input type='text' id='sendingAddr' tabindex='1' class='form-control groupeA' name='sender' placeholder='BTC address / Onename' value='<%= from %>'>
								<span class='form-control-feedback <%= cryptoscrypt.validAddress(from) ? 'glyphicon glyphicon-ok' : from ? 'glyphicon glyphicon-remove' : ''%>' name='glyphicon' id='glyphicon' style='left:-5px'></span>
								</input>
								<label class='col-xs-12'>
									Balance: <%= balance/100000000 %> BTC
								</label>
							</div>

						</div>

						<div class='col-sm-1 hidden-xs' id='thumb' style='left:16px;top:25px'>
							<img id='thumb' class='thumb' width='40' src='<%= thumbFrom %>' style='display:<%= thumbFrom ||'none'%>'</img>
						</div>
					</div>
					

				
					<label>Receiving Address<%=recipients.length>1 ? 'es':''%></label>
					<% _.each(recipients, function(recipient, index) { %> 
						<div class='row col-xs-12 addressTo' dataId='<%= index %>' style='padding-left:20px'>
							<div class='fieldAddressTo' dataId='<%= index %>'			>
								<div class='row col-xs-12 col-sm-6 form-group has-feedback input-prepend <%=successClass(recipient.address) %>'>
									<div class='row input-group'>
										<input type='text' tabindex=<%=index*2+2%> class='form-control groupeA' name='to' value='<%= recipient.address %>' placeholder='BTC address / Onename'>
											<span class='<%= cryptoscrypt.validAddress(recipient.address) ? 'glyphicon glyphicon-ok form-control-feedback' : recipient.address ? 'glyphicon glyphicon-remove form-control-feedback' : ''%>' style='left:-10px' name='glyphicon'>
											</span>
										</input>
										
										<span class='input-group-btn'>
											<span class='input-group-btn'>
												<button class='btn btn-default glyphicon glyphicon-camera groupeA' type='button' name='btn-scan'></button>
											</span>
											<span class='input-group-btn'>
												<button style='z-index:100' class='btn btn-default glyphicon glyphicon-trash groupeA' type='button' name='btn-remove'></button>
											</span>
										</span>
									</div>
								</div>
							</div>
								<div class='col-xs-10 col-sm-4 hidden-xs'>
									<div class='input-group' style=''>
										<input type='text' class='form-control groupeA' tabindex=<%=index*2+3%> name='amount' value='<%= recipient.amount>0 ? recipient.amount/100000000 : ''%>' placeholder='Amount' />
										<span class='input-group-btn'>
											<button class='btn btn-primary glyphicon glyphicon-download groupeA' type='button' name='btn-all'></button>
										</span>
									</div>
								</div>
							
							

							<div class='row col-xs-10 col-sm-4 visible-xs'>
								<div class='row input-group' style=''>
									<input type='text' class='form-control groupeA' tabindex=<%=index*2+3%> name='amount' value='<%= recipient.amount>0 ? recipient.amount/100000000 : ''%>' placeholder='Amount' />
									<span class='input-group-addon hidden-xs'>BTC</span>
									<span class='input-group-btn'>
										<button class='btn btn-primary glyphicon glyphicon-download groupeA' type='button' name='btn-all'></button>
									</span>
								</div>
								
								<hr class='col-xs-12 visible-xs'>
							</div>

							<div class='col-xs-1 col-sm-1 hidden-xs' name='thumb' style='padding:0px'>
								<img name='thumbTo' class='' width='40' src='<%= recipient.thumb %>' style=<%=recipient.thumb || 'display:none'%>></img>
							</div>

							<div class='col-xs-1 btn-group' style='bottom:3px;'>
								<button type='button' class='groupeA btn-default btn-sm btn-add-recipient toButton groupeA' name='btn-add' style='<%=((index!=recipients.length-1) || (purpose == "chain")) ? 'display:none' : ''%>'>
									<span class='glyphicon glyphicon-plus-sign glyphicon-align-center' style='color:green;horizontal-align:middle;font-size:18px;horizontal-align:middle;bottom:1px'></span>
								</button>
							</div>
						</div>
					<% }); %> 

						<div class='row col-xs-12 form-group' style='display:<%=advanced ? 'block' : 'none'%>'>
							<label for='fee'>Fee</label>
							<div class='input-group col-xs-12' style='width:250px'>
								<input type='text' class='form-control' <%=(feeMode == 'auto') ? 'readonly':''%> name='fee' id='fee' value='<%= getFee/100000000 %>'></input>
								<span class='input-group-addon hidden-xs'>BTC</span>
								<span class='input-group-btn'>
									<button type='button' name='btn-feemode' class='groupeA btn <%= (feeMode == 'auto') ? 'btn-primary':'btn-danger'%> btn-feemode'>Fee: <%=feeMode%></button>
								</span>
							</div>
						</div>

						<div class='form-group col-xs-12 row'>
							<label for='total'>Total</label>	
							<div class='input-group col-xs-12' style='width:200px'>
								<input type='text' name='total' class='form-control' id='total' readonly></input>
								<span class='input-group-addon'>BTC</span>
							</div>
						</div>
						<div>
						<button style='display:<%=tfa || "none"%>' class='btn btn-warning' name='btn-validate-transaction'>Validate Transaction</button>
						<h4 name='link-phone' style='display:none'></h4>
						</div>
					</div>

				</div>
				<div class='col-xs-12' name='signature'>
					<legend class='legend'>Signature</legend>
						<h5 class='bg-info guidance <%= guidance != 'tails' && 'hidden' %>'>Step 3 : Disconnect from internet, make sure no communication is possible with the computer.
						</h5>
						<h5 class='bg-info guidance <%= guidance != 'dedicated' && 'hidden' %>'>Step 3 : Click Export into QRCodes now, then open this page on your dedicated offline computer and import those QRCodes. (The next steps have to be done on the same offline computer)
						</h5>
						<h5 class='bg-info guidance <%= guidance == false && 'hidden' %>'>Step 4 : Enter your warp wallet passphrase & Salt (you can also enter a regular private key).
						</h5>

						<label for='passphrase'>
							Passphrase or private key
						</label>
						<div id='warning'></div>
						<input type='text' class='form-control' name='passphrase' placeholder='Passphrase' <%=tfa ? "disabled" : ""%>>
	
						<label for='salt' style='margin-top:10px'>
							Email (Salt)
						</label>
						<input type='text' class='form-control' name='salt' placeholder='Email / Salt' <%=tfa ? "disabled" : ""%>>

						<h5 class='bg-info guidance <%= guidance == false && 'hidden' %>'>Step 5 : Click on Sign Transaction 
							</h5>
					<div id='please-wait'>
						<h3 id='please-wait'></h3>
					</div>
					<div class='button-group'>
						<button type='button' class='btn btn-primary' name='btn-sign' style='display:<%= (purpose == 'normal') ? 'block' : 'none'%>;font-size:14px;white-space: normal ; margin-top:20px'>Sign Transaction</button>
						<button type='button' class='btn btn-warning advanced' name='btn-sign-chain' style='display:<%= purpose != 'chain' ? 'none':'block'%>;font-size:14px;white-space: normal ; margin-top:20px'>Advanced : Do a transaction chain</button>
						<button <%=signed ? '' : 'disabled'%> type='button' class='btn btn-danger advanced' name='btn-switch-to-input' style='display:<%= (advanced == false) ? 'none':'block'%>;font-size:14px;white-space: normal ; margin-top:20px'>Advanced : Load next transaction from first recipient</button>
						<button type='button' class='btn btn-primary' name='btn-sign-mobile' style='display:none ; font-size:14px ; white-space: normal ; margin-top:20px'>Sign Mobile</button>
						<button type='button' class='btn btn-primary' name='btn-sign-computer' style='display:none ; font-size:14px ; white-space: normal ; margin-top:20px' disabled>Sign On Computer</button>
					</div>

					<div class=''>
						<h5 class='bg-info guidance <%= guidance == false && 'hidden' %>'>Step 6 : Scan the QR code from another device (a smartphone for instance)
						</h5>
					</div>
					
						<% if (qrcode) {%>
							<div class='text-left' name='label-qrcode'>
								<h4 class='control-label'>Raw Transaction</h4>
							</div>
							<div class='' name='qrcode' id='qrcode'>
							</div>
							<div class='' name='rawtx'>
								<textarea class='form-control' rows='3'><%=qrcode%></textarea>
							</div>
						<%}%>
						<h5 class='bg-info guidance <%= guidance == false && 'hidden' %>'>Step 7 : Use a website like <a href=http://btc.blockr.io/tx/push>blockr.io</a> to verify and push the transaction</a>
						</h5>
						<h5 class='bg-info guidance <%= guidance != 'tails' && 'hidden' %>'>Step 8 : DO NOT go back online ! Turn off the computer
						</h5>
						<br>
					
				</div>
				<div>
				<h6>You can use <a href=http://btc.blockr.io/tx/push>blockr.io</a> for pushing</h6>
				<h6>Open source ! View on <a href='http://www.github.com/xorq/easybtc'>github</a></h6>
				<h6>Use at your own risks, if you find this application useful or want to support its developpment, you can buy us a coffee at 1LPUpS4nc2mo63GvgBxrUSJ6y3xumqzWSW</h6>
				</div>
			</form>
			</div>
		</script>
			<div class='visible-print'>
			</div>
	</body>
	<div class='hidden-print' id='dialogs'></div>
</html>
